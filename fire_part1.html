<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fire Dialogues ‚Äì Part 1</title>
  <style>
    body {
      background: linear-gradient(135deg, #000000, #0a0a0a);
      color: white;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #ff4444;
      margin-bottom: 30px;
      text-shadow: 0 0 10px #ff4444;
    }
    .dialogue-box {
      background: #111;
      padding: 20px;
      border-radius: 15px;
      margin: 20px 0;
      box-shadow: 0 0 15px #00ffff;
    }
    .dialogue-box h3 {
      color: #ff00ff;
      text-align: center;
    }
    .dialogue-box p.story {
      font-size: 20px;
      line-height: 1.8;
      color: #66fcf1;
    }
    .dialogue-box p.signature {
      color: #ccc;
      font-size: 14px;
      text-align: right;
      margin-top: 10px;
    }
    .dialogue-box img {
      display: block;
      margin: 20px auto 0;
      width: 220px;
      border-radius: 12px;
      border: 3px solid #00ffff;
      box-shadow: 0 0 15px #00ffff;
    }
    .button-group {
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<div id="loader" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: black; color: #00ffff; font-size: 22px; font-weight: bold; display: flex; align-items: center; justify-content: center; z-index: 9999; text-align: center; padding: 20px; box-sizing: border-box; text-shadow: 0 0 10px #00ffff;">
  Deepak Chauhan √ó AI Bhai ‡§ï‡•á üî• Fire Dialogues Part 1 ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à...
</div>

<h1>Fire Dialogues ‚Äì Part 1</h1>
<div id="dialogues-container"></div>

<script>
  fetch("https://script.google.com/macros/s/AKfycbxBzvwMeTpl-STR1zx2wUbb71wnOyeTRpl_ckMUgsucEqRo69vUnAdpnh6s5MdEV2F_tg/exec")
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById("dialogues-container");
      const imagePaths = [
        "images/fire_part_img4.jpg",
        "images/fire_part_img2.jpg",
        "images/fire_part_img5.jpg",
        "images/fire_part_img1.jpg",
        "images/fire_part_img3.jpg"
      ];
      let index = 0;

      Object.keys(data).forEach(key => {
        const fire = data[key].fire;
        const story = data[key].story;
        const signature = data[key].signature;
        const title = data[key].title;
        const likes = data[key].likes || 0;
        const comments = data[key].comments || "";

        const box = document.createElement("div");
        box.className = "dialogue-box";

        box.innerHTML = `
          <h3>${fire}</h3>
          <p class="story">${story}</p>
          <p class="signature">${signature}</p>
          <img src="${imagePaths[index % imagePaths.length]}" alt="Fire Image ${index+1}">
          <div class="button-group">
            <p style="color:#66fcf1;">Likes: <span id="like-${title}">${likes}</span></p>
            <p style="color:#ff69b4; cursor:pointer;" onclick="toggleComments('${title}')">
              Comments (<span id="count-${title}">${comments.split("|").filter(c => c.trim()).length}</span>) ‚ñº
            </p>
            <div id="comments-${title}" style="display:none; color:#ccc; margin-top:5px;">
              ${comments.split("|").map(c => `<div>‚Äì ${c.trim()}</div>`).join("")}
            </div>
            <input type="text" id="input-${title}" placeholder="Apna comment likho..." style="width:100%; margin-top:5px;"/>
            <button onclick="submitComment('${title}')">Submit</button>
            <button onclick="likePost('${title}')">Like</button>
          </div>
        `;
        container.appendChild(box);
        index++;
      });
    });

  function likePost(title) {
    fetch('https://script.google.com/macros/s/AKfycbxBzvwMeTpl-STR1zx2wUbb71wnOyeTRpl_ckMUgsucEqRo69vUnAdpnh6s5MdEV2F_tg/exec', {
      method: 'POST',
      body: JSON.stringify({ title: title, type: 'like' }),
      headers: { 'Content-Type': 'application/json' }
    }).then(() => {
      const count = document.getElementById(`like-${title}`);
      count.textContent = parseInt(count.textContent) + 1;
    });
  }

  function submitComment(title) {
    const input = document.getElementById(`input-${title}`);
    const comment = input.value.trim();
    if (!comment) return;

    fetch('https://script.google.com/macros/s/AKfycbxBzvwMeTpl-STR1zx2wUbb71wnOyeTRpl_ckMUgsucEqRo69vUnAdpnh6s5MdEV2F_tg/exec', {
      method: 'POST',
      body: JSON.stringify({ title: title, type: 'comment', comment: comment }),
      headers: { 'Content-Type': 'application/json' }
    }).then(() => {
      const div = document.getElementById(`comments-${title}`);
      div.innerHTML += `<div>‚Äì ${comment}</div>`;
      const count = document.getElementById(`count-${title}`);
      count.textContent = parseInt(count.textContent) + 1;
      input.value = "";
    });
  }

  function toggleComments(title) {
    const box = document.getElementById(`comments-${title}`);
    box.style.display = box.style.display === "none" ? "block" : "none";
  }

  window.onpageshow = function(event) {
    if (event.persisted) {
      window.location.reload();
    }
  };
</script>

<script>
  window.addEventListener("load", function () {
    const loader = document.getElementById("loader");
    setTimeout(() => {
      loader.style.display = "none";
    }, 5000);
  });
</script>

</body>
</html>
