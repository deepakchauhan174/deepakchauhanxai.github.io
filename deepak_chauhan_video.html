<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deepak Chauhan Video – Team Bhai × AI</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Team Bhai × AI</h1>
    <p>Powered by Deepak Chauhan</p>
  </header>

  <nav>
    <a href="index.html">Home</a>
    <a href="top_comments.html">Comments</a>
  </nav>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
  <section style="text-align: center; padding: 1rem;">
    <h2 id="video-title" style="color: #00ffff;"></h2>
    <iframe id="video-frame" width="320" height="180" frameborder="0" allowfullscreen></iframe>
    <p id="video-desc" style="font-size: 1.1rem; color: #ccc;"></p>

    <div style="margin-top: 20px;">
      <span>Likes: <span id="like-count">0</span></span>
      <button onclick="likeVideo()">Like</button>
    </div>

    <div style="margin-top: 30px;">
      <h3>Comments</h3>
      <div id="comment-box"></div>
      <input type="text" id="userName" placeholder="Your Name" />
      <textarea id="commentText" placeholder="Your Comment"></textarea>
      <button onclick="submitComment()">Submit</button>
    </div>
  </section>

  <footer>
    © 2025 Team Bhai × AI | All Rights Reserved
  </footer>

  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const videoId = "deepak1"; // Static ID for now

    function fetchVideoData() {
      db.ref("videos/" + videoId).once("value", (snapshot) => {
        const data = snapshot.val();
        if (data) {
          document.getElementById("video-title").innerText = data.title;
          document.getElementById("video-frame").src = data.videoURL;
          document.getElementById("video-desc").innerText = data.description;
          document.getElementById("like-count").innerText = data.likes || 0;
        }
      });

      db.ref("comments/" + videoId).on("value", (snapshot) => {
        const box = document.getElementById("comment-box");
        box.innerHTML = "";
        snapshot.forEach(child => {
          const val = child.val();
          box.innerHTML += `<p><strong>${val.name}:</strong> ${val.comment}</p>`;
        });
      });
    }

    function likeVideo() {
      const uid = localStorage.getItem("liked_" + videoId);
      if (!uid) {
        const likeRef = db.ref("videos/" + videoId + "/likes");
        likeRef.transaction(likes => (likes || 0) + 1);
        localStorage.setItem("liked_" + videoId, "yes");
      } else {
        alert("You already liked!");
      }
    }

    function submitComment() {
      const name = document.getElementById("userName").value;
      const comment = document.getElementById("commentText").value;
      if (name && comment) {
        const newComment = db.ref("comments/" + videoId).push();
        newComment.set({ name, comment });
        document.getElementById("userName").value = "";
        document.getElementById("commentText").value = "";
      }
    }

    fetchVideoData();
  </script>
</body>
</html>
